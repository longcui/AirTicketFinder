package jq;

import org.junit.Assert;
import org.junit.Test;
import utils.CmdUtils;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Path;

public class JqTest {


    @Test
    public void test1() throws IOException {
//        String cmdResult = CmdUtils.runCmd("cd \"C:\\Program Files\\Microsoft SQL Server\" && dir");
//        Assert.assertEquals(" Volume in drive C is Windows7_OS Volume Serial Number is A659-BC64 Directory of C:\\Program Files\\Microsoft SQL Server29.10.2019  16:15    <DIR>          .29.10.2019  16:15    <DIR>          ..29.10.2019  09:20    <DIR>          10020.11.2019  19:06    <DIR>          11029.10.2019  09:22    <DIR>          12020.11.2019  19:05    <DIR>          13029.10.2019  09:53    <DIR>          14029.10.2019  16:16    <DIR>          8020.11.2019  19:05    <DIR>          9029.10.2019  09:53    <DIR>          Client SDK29.10.2019  09:19    <DIR>          MSSQL12.SQLEXPRESS29.10.2019  09:53    <DIR>          MSSQL14.MSSQLSERVER               0 File(s)              0 bytes              12 Dir(s)  83?834?339?328 bytes free", cmdResult);
    }


    @Test
    public void test2() throws IOException {
        String cmdResult = CmdUtils.runCmd("echo {\"a\":3} | jq .");
        Assert.assertEquals("{  \"a\": 3}", cmdResult);
    }

    @Test
    public void test3() throws IOException {
        String json = "{\"pricingType\":\"O\",\"outboundFlights\":{\"F0\":{\"id\":0,\"origin\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"destination\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"originCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"destinationCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"originCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"destinationCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"connectionDuration\":\"15:40:00\",\"startTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"startTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"endTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"endTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"stops\":1,\"via\":[{\"code\":\"CPH\",\"name\":\"Kastrup\",\"haltDuration\":\"02:45:00\"}],\"segments\":[{\"id\":11,\"arrivalTerminal\":\"3\",\"arrivalDateTimeInLocal\":\"2020-01-05T18:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T17:15:00.000Z\",\"departureTerminal\":\"2\",\"departureDateTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"departureDateTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"departureAirport\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"arrivalAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"departureCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"arrivalCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"departureCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"arrivalCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"airCraft\":{\"code\":\"343\",\"name\":\"Airbus Industrie A340-300\"},\"flightNumber\":\"998\",\"duration\":\"11:40:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0},{\"id\":12,\"arrivalDateTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"departureTerminal\":\"3\",\"departureDateTimeInLocal\":\"2020-01-05T21:00:00.000+01:00\",\"departureDateTimeInGmt\":\"2020-01-05T20:00:00.000Z\",\"departureAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"arrivalAirport\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"departureCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"arrivalCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"departureCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"arrivalCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"airCraft\":{\"code\":\"32N\",\"name\":\"Airbus  A320neo\"},\"flightNumber\":\"1876\",\"duration\":\"01:15:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0}],\"cabins\":{\"BUSINESS\":{\"SAS BUSINESS PRO\":{\"products\":{\"O_2\":{\"productName\":\"SAS BUSINESS PRO\",\"productCode\":\"MBUSH\",\"lowestFare\":true,\"recommendations\":[1],\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"},{\"segmentId\":\"12\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"}],\"fareKey\":\"CC\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS BUSINESS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}},\"PLUS\":{\"SAS PLUS PRO\":{\"products\":{\"O_1\":{\"productName\":\"SAS PLUS PRO\",\"productCode\":\"MPREMI\",\"lowestFare\":true,\"recommendations\":[0],\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"},{\"segmentId\":\"12\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"}],\"fareKey\":\"YY\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS PLUS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}}},\"lowestFares\":{\"BUSINESS\":{\"product\":\"SAS BUSINESS PRO\",\"productId\":\"O_2\",\"avlSeats\":9,\"points\":282607.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":282607.0},\"PLUS\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":167757.0}}}},\"productInfo\":{\"PLUS\":{\"1\":\"SAS PLUS PRO\"},\"BUSINESS\":{\"1\":\"SAS BUSINESS PRO\"}},\"tabsInfo\":{\"outboundInfo\":[{\"date\":\"2020-01-04\",\"price\":\"NA\",\"points\":0.0,\"pointsAfterDiscount\":0.0},{\"date\":\"2020-01-05\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"},{\"date\":\"2020-01-06\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"}]},\"currency\":{\"code\":\"NOK\",\"name\":\"Norwegian Krone\",\"symbol\":\",-\",\"decimalSeperator\":\".\",\"position\":\"Suffix\",\"currencyDelimiter\":\"space\"},\"links\":[{\"rel\":\"GetEBMSPoints\",\"href\":\"/offers/flightproducts/getAccrualPoints\"},{\"rel\":\"FareReview\",\"href\":\"/offers/flightproducts/getFare\"},{\"rel\":\"InitiateCheckout\",\"href\":\"/checkout/initiate\"}],\"regionName\":\"SKEBRV_OTHERS\",\"offerId\":\"f3edebec-eaef-463d-9fad-72c86e7521aa_2019-11-29\",\"outboundLowestFare\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":0.0,\"cabinName\":\"PLUS\",\"flightId\":\"F0\"},\"isOutboundIntercontinental\":true,\"bookingFlow\":\"POINTS\",\"type\":{\"code\":\"MRG\",\"name\":\"MERGE\"}}";
//        String replacedJson = json.replaceAll("\"", "\\");
//        System.out.println(replacedJson);
        String cmdResult = CmdUtils.runCmd("echo " + json + " | jq .");
        Assert.assertEquals("{  \"pricingType\": \"O\",  \"outboundFlights\": {    \"F0\": {      \"id\": 0,      \"origin\": {        \"code\": \"PVG\",        \"name\": \"Pudong  \"      },      \"destination\": {        \"code\": \"SVG\",        \"name\": \"Sola\"      },      \"originCountry\": {        \"code\": \"CN\",        \"name\": \"China\"      },      \"destinationCountry\": {        \"code\": \"NO\",        \"name\": \"Norway\"      },      \"originCity\": {        \"code\": \"SHA\",        \"name\": \"Shanghai\"      },      \"destinationCity\": {        \"code\": \"SVG\",        \"name\": \"Stavanger\"      },      \"connectionDuration\": \"15:40:00\",      \"startTimeInLocal\": \"2020-01-05T13:35:00.000+08:00\",      \"startTimeInGmt\": \"2020-01-05T05:35:00.000Z\",      \"endTimeInLocal\": \"2020-01-05T22:15:00.000+01:00\",      \"endTimeInGmt\": \"2020-01-05T21:15:00.000Z\",      \"stops\": 1,      \"via\": [        {          \"code\": \"CPH\",          \"name\": \"Kastrup\",          \"haltDuration\": \"02:45:00\"        }      ],      \"segments\": [        {          \"id\": 11,          \"arrivalTerminal\": \"3\",          \"arrivalDateTimeInLocal\": \"2020-01-05T18:15:00.000+01:00\",          \"arrivalDateTimeInGmt\": \"2020-01-05T17:15:00.000Z\",          \"departureTerminal\": \"2\",          \"departureDateTimeInLocal\": \"2020-01-05T13:35:00.000+08:00\",          \"departureDateTimeInGmt\": \"2020-01-05T05:35:00.000Z\",          \"departureAirport\": {            \"code\": \"PVG\",            \"name\": \"Pudong  \"          },          \"arrivalAirport\": {            \"code\": \"CPH\",            \"name\": \"Kastrup\"          },          \"departureCity\": {            \"code\": \"SHA\",            \"name\": \"Shanghai\"          },          \"arrivalCity\": {            \"code\": \"CPH\",            \"name\": \"Copenhagen\"          },          \"departureCountry\": {            \"code\": \"CN\",            \"name\": \"China\"          },          \"arrivalCountry\": {            \"code\": \"DK\",            \"name\": \"Denmark\"          },          \"airCraft\": {            \"code\": \"343\",            \"name\": \"Airbus Industrie A340-300\"          },          \"flightNumber\": \"998\",          \"duration\": \"11:40:00\",          \"marketingCarrier\": {            \"code\": \"SK\",            \"name\": \"SAS\"          },          \"onTimePerformance\": 0,          \"miles\": 0,          \"numberOfStops\": 0        },        {          \"id\": 12,          \"arrivalDateTimeInLocal\": \"2020-01-05T22:15:00.000+01:00\",          \"arrivalDateTimeInGmt\": \"2020-01-05T21:15:00.000Z\",          \"departureTerminal\": \"3\",          \"departureDateTimeInLocal\": \"2020-01-05T21:00:00.000+01:00\",          \"departureDateTimeInGmt\": \"2020-01-05T20:00:00.000Z\",          \"departureAirport\": {            \"code\": \"CPH\",            \"name\": \"Kastrup\"          },          \"arrivalAirport\": {            \"code\": \"SVG\",            \"name\": \"Sola\"          },          \"departureCity\": {            \"code\": \"CPH\",            \"name\": \"Copenhagen\"          },          \"arrivalCity\": {            \"code\": \"SVG\",            \"name\": \"Stavanger\"          },          \"departureCountry\": {            \"code\": \"DK\",            \"name\": \"Denmark\"          },          \"arrivalCountry\": {            \"code\": \"NO\",            \"name\": \"Norway\"          },          \"airCraft\": {            \"code\": \"32N\",            \"name\": \"Airbus  A320neo\"          },          \"flightNumber\": \"1876\",          \"duration\": \"01:15:00\",          \"marketingCarrier\": {            \"code\": \"SK\",            \"name\": \"SAS\"          },          \"onTimePerformance\": 0,          \"miles\": 0,          \"numberOfStops\": 0        }      ],      \"cabins\": {        \"BUSINESS\": {          \"SAS BUSINESS PRO\": {            \"products\": {              \"O_2\": {                \"productName\": \"SAS BUSINESS PRO\",                \"productCode\": \"MBUSH\",                \"lowestFare\": true,                \"recommendations\": [                  1                ],                \"price\": {                  \"currency\": \"NOK\",                  \"basePrice\": 30656,                  \"totalTax\": 246,                  \"totalPrice\": 32548,                  \"formattedBasePrice\": \"30 656,-\",                  \"formattedTotalTax\": \"246,-\",                  \"formattedTotalPrice\": \"32 548,-\",                  \"points\": 282607,                  \"credits\": 0,                  \"pointsAfterDiscount\": 282607,                  \"discountedPoints\": 0,                  \"pricePerPassengerType\": [                    {                      \"id\": 1,                      \"type\": \"ADT\",                      \"numberCount\": 1,                      \"price\": {                        \"currency\": \"NOK\",                        \"basePrice\": 30656,                        \"totalTax\": 246,                        \"totalPrice\": 32548,                        \"formattedBasePrice\": \"30 656,-\",                        \"formattedTotalTax\": \"246,-\",                        \"formattedTotalPrice\": \"32 548,-\",                        \"points\": 282607,                        \"credits\": 0,                        \"pointsAfterDiscount\": 282607,                        \"discountedPoints\": 0                      }                    }                  ]                },                \"fares\": [                  {                    \"segmentId\": \"11\",                    \"fareClass\": \"CCNOW\",                    \"bookingClass\": \"C\",                    \"avlSeats\": 9,                    \"cabinClass\": \"C\"                  },                  {                    \"segmentId\": \"12\",                    \"fareClass\": \"CCNOW\",                    \"bookingClass\": \"C\",                    \"avlSeats\": 9,                    \"cabinClass\": \"C\"                  }                ],                \"fareKey\": \"CC\",                \"flyingToOrOverRussia\": true,                \"productType\": \"SAS BUSINESS\",                \"productSubtype\": \"PRO\",                \"sasRecommended\": false              }            }          }        },        \"PLUS\": {          \"SAS PLUS PRO\": {            \"products\": {              \"O_1\": {                \"productName\": \"SAS PLUS PRO\",                \"productCode\": \"MPREMI\",                \"lowestFare\": true,                \"recommendations\": [                  0                ],                \"price\": {                  \"currency\": \"NOK\",                  \"basePrice\": 17221,                  \"totalTax\": 246,                  \"totalPrice\": 18961,                  \"formattedBasePrice\": \"17 221,-\",                  \"formattedTotalTax\": \"246,-\",                  \"formattedTotalPrice\": \"18 961,-\",                  \"points\": 167757,                  \"credits\": 0,                  \"pointsAfterDiscount\": 167757,                  \"discountedPoints\": 0,                  \"pricePerPassengerType\": [                    {                      \"id\": 1,                      \"type\": \"ADT\",                      \"numberCount\": 1,                      \"price\": {                        \"currency\": \"NOK\",                        \"basePrice\": 17221,                        \"totalTax\": 246,                        \"totalPrice\": 18961,                        \"formattedBasePrice\": \"17 221,-\",                        \"formattedTotalTax\": \"246,-\",                        \"formattedTotalPrice\": \"18 961,-\",                        \"points\": 167757,                        \"credits\": 0,                        \"pointsAfterDiscount\": 167757,                        \"discountedPoints\": 0                      }                    }                  ]                },                \"fares\": [                  {                    \"segmentId\": \"11\",                    \"fareClass\": \"YCNOW\",                    \"bookingClass\": \"Y\",                    \"avlSeats\": 9,                    \"cabinClass\": \"Y\"                  },                  {                    \"segmentId\": \"12\",                    \"fareClass\": \"YCNOW\",                    \"bookingClass\": \"Y\",                    \"avlSeats\": 9,                    \"cabinClass\": \"Y\"                  }                ],                \"fareKey\": \"YY\",                \"flyingToOrOverRussia\": true,                \"productType\": \"SAS PLUS\",                \"productSubtype\": \"PRO\",                \"sasRecommended\": false              }            }          }        }      },      \"lowestFares\": {        \"BUSINESS\": {          \"product\": \"SAS BUSINESS PRO\",          \"productId\": \"O_2\",          \"avlSeats\": 9,          \"points\": 282607,          \"discountedPoints\": 0,          \"pointsAfterDiscount\": 282607        },        \"PLUS\": {          \"product\": \"SAS PLUS PRO\",          \"productId\": \"O_1\",          \"avlSeats\": 9,          \"points\": 167757,          \"discountedPoints\": 0,          \"pointsAfterDiscount\": 167757        }      }    }  },  \"productInfo\": {    \"PLUS\": {      \"1\": \"SAS PLUS PRO\"    },    \"BUSINESS\": {      \"1\": \"SAS BUSINESS PRO\"    }  },  \"tabsInfo\": {    \"outboundInfo\": [      {        \"date\": \"2020-01-04\",        \"price\": \"NA\",        \"points\": 0,        \"pointsAfterDiscount\": 0      },      {        \"date\": \"2020-01-05\",        \"price\": \"18 961,-\",        \"points\": 167757,        \"pointsAfterDiscount\": 167757,        \"productName\": \"SAS PLUS PRO\"      },      {        \"date\": \"2020-01-06\",        \"price\": \"18 961,-\",        \"points\": 167757,        \"pointsAfterDiscount\": 167757,        \"productName\": \"SAS PLUS PRO\"      }    ]  },  \"currency\": {    \"code\": \"NOK\",    \"name\": \"Norwegian Krone\",    \"symbol\": \",-\",    \"decimalSeperator\": \".\",    \"position\": \"Suffix\",    \"currencyDelimiter\": \"space\"  },  \"links\": [    {      \"rel\": \"GetEBMSPoints\",      \"href\": \"/offers/flightproducts/getAccrualPoints\"    },    {      \"rel\": \"FareReview\",      \"href\": \"/offers/flightproducts/getFare\"    },    {      \"rel\": \"InitiateCheckout\",      \"href\": \"/checkout/initiate\"    }  ],  \"regionName\": \"SKEBRV_OTHERS\",  \"offerId\": \"f3edebec-eaef-463d-9fad-72c86e7521aa_2019-11-29\",  \"outboundLowestFare\": {    \"product\": \"SAS PLUS PRO\",    \"productId\": \"O_1\",    \"avlSeats\": 9,    \"points\": 167757,    \"discountedPoints\": 0,    \"pointsAfterDiscount\": 0,    \"cabinName\": \"PLUS\",    \"flightId\": \"F0\"  },  \"isOutboundIntercontinental\": true,  \"bookingFlow\": \"POINTS\",  \"type\": {    \"code\": \"MRG\",    \"name\": \"MERGE\"  }}", cmdResult);
    }

    @Test
    public void test4() throws IOException {
        String json = "{\"pricingType\":\"O\",\"outboundFlights\":{\"F0\":{\"id\":0,\"origin\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"destination\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"originCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"destinationCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"originCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"destinationCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"connectionDuration\":\"15:40:00\",\"startTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"startTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"endTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"endTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"stops\":1,\"via\":[{\"code\":\"CPH\",\"name\":\"Kastrup\",\"haltDuration\":\"02:45:00\"}],\"segments\":[{\"id\":11,\"arrivalTerminal\":\"3\",\"arrivalDateTimeInLocal\":\"2020-01-05T18:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T17:15:00.000Z\",\"departureTerminal\":\"2\",\"departureDateTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"departureDateTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"departureAirport\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"arrivalAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"departureCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"arrivalCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"departureCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"arrivalCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"airCraft\":{\"code\":\"343\",\"name\":\"Airbus Industrie A340-300\"},\"flightNumber\":\"998\",\"duration\":\"11:40:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0},{\"id\":12,\"arrivalDateTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"departureTerminal\":\"3\",\"departureDateTimeInLocal\":\"2020-01-05T21:00:00.000+01:00\",\"departureDateTimeInGmt\":\"2020-01-05T20:00:00.000Z\",\"departureAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"arrivalAirport\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"departureCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"arrivalCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"departureCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"arrivalCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"airCraft\":{\"code\":\"32N\",\"name\":\"Airbus  A320neo\"},\"flightNumber\":\"1876\",\"duration\":\"01:15:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0}],\"cabins\":{\"BUSINESS\":{\"SAS BUSINESS PRO\":{\"products\":{\"O_2\":{\"productName\":\"SAS BUSINESS PRO\",\"productCode\":\"MBUSH\",\"lowestFare\":true,\"recommendations\":[1],\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"},{\"segmentId\":\"12\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"}],\"fareKey\":\"CC\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS BUSINESS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}},\"PLUS\":{\"SAS PLUS PRO\":{\"products\":{\"O_1\":{\"productName\":\"SAS PLUS PRO\",\"productCode\":\"MPREMI\",\"lowestFare\":true,\"recommendations\":[0],\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"},{\"segmentId\":\"12\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"}],\"fareKey\":\"YY\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS PLUS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}}},\"lowestFares\":{\"BUSINESS\":{\"product\":\"SAS BUSINESS PRO\",\"productId\":\"O_2\",\"avlSeats\":9,\"points\":282607.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":282607.0},\"PLUS\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":167757.0}}}},\"productInfo\":{\"PLUS\":{\"1\":\"SAS PLUS PRO\"},\"BUSINESS\":{\"1\":\"SAS BUSINESS PRO\"}},\"tabsInfo\":{\"outboundInfo\":[{\"date\":\"2020-01-04\",\"price\":\"NA\",\"points\":0.0,\"pointsAfterDiscount\":0.0},{\"date\":\"2020-01-05\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"},{\"date\":\"2020-01-06\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"}]},\"currency\":{\"code\":\"NOK\",\"name\":\"Norwegian Krone\",\"symbol\":\",-\",\"decimalSeperator\":\".\",\"position\":\"Suffix\",\"currencyDelimiter\":\"space\"},\"links\":[{\"rel\":\"GetEBMSPoints\",\"href\":\"/offers/flightproducts/getAccrualPoints\"},{\"rel\":\"FareReview\",\"href\":\"/offers/flightproducts/getFare\"},{\"rel\":\"InitiateCheckout\",\"href\":\"/checkout/initiate\"}],\"regionName\":\"SKEBRV_OTHERS\",\"offerId\":\"f3edebec-eaef-463d-9fad-72c86e7521aa_2019-11-29\",\"outboundLowestFare\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":0.0,\"cabinName\":\"PLUS\",\"flightId\":\"F0\"},\"isOutboundIntercontinental\":true,\"bookingFlow\":\"POINTS\",\"type\":{\"code\":\"MRG\",\"name\":\"MERGE\"}}";
//        String replacedJson = json.replaceAll("\"", "\\");
//        System.out.println(replacedJson);
        String cmdResult = CmdUtils.runCmd("echo " + json + " | jq  \"{productInfo: .productInfo| keys, price: .outboundLowestFare.points}\"");
        Assert.assertEquals("{  \"productInfo\": [    \"BUSINESS\",    \"PLUS\"  ],  \"price\": 167757}", cmdResult);
    }

    @Test
    public void test5() throws IOException {
        String json = "{\"pricingType\":\"O\",\"outboundFlights\":{\"F0\":{\"id\":0,\"origin\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"destination\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"originCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"destinationCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"originCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"destinationCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"connectionDuration\":\"15:40:00\",\"startTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"startTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"endTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"endTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"stops\":1,\"via\":[{\"code\":\"CPH\",\"name\":\"Kastrup\",\"haltDuration\":\"02:45:00\"}],\"segments\":[{\"id\":11,\"arrivalTerminal\":\"3\",\"arrivalDateTimeInLocal\":\"2020-01-05T18:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T17:15:00.000Z\",\"departureTerminal\":\"2\",\"departureDateTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"departureDateTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"departureAirport\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"arrivalAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"departureCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"arrivalCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"departureCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"arrivalCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"airCraft\":{\"code\":\"343\",\"name\":\"Airbus Industrie A340-300\"},\"flightNumber\":\"998\",\"duration\":\"11:40:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0},{\"id\":12,\"arrivalDateTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"departureTerminal\":\"3\",\"departureDateTimeInLocal\":\"2020-01-05T21:00:00.000+01:00\",\"departureDateTimeInGmt\":\"2020-01-05T20:00:00.000Z\",\"departureAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"arrivalAirport\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"departureCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"arrivalCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"departureCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"arrivalCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"airCraft\":{\"code\":\"32N\",\"name\":\"Airbus  A320neo\"},\"flightNumber\":\"1876\",\"duration\":\"01:15:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0}],\"cabins\":{\"BUSINESS\":{\"SAS BUSINESS PRO\":{\"products\":{\"O_2\":{\"productName\":\"SAS BUSINESS PRO\",\"productCode\":\"MBUSH\",\"lowestFare\":true,\"recommendations\":[1],\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"},{\"segmentId\":\"12\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"}],\"fareKey\":\"CC\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS BUSINESS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}},\"PLUS\":{\"SAS PLUS PRO\":{\"products\":{\"O_1\":{\"productName\":\"SAS PLUS PRO\",\"productCode\":\"MPREMI\",\"lowestFare\":true,\"recommendations\":[0],\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"},{\"segmentId\":\"12\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"}],\"fareKey\":\"YY\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS PLUS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}}},\"lowestFares\":{\"BUSINESS\":{\"product\":\"SAS BUSINESS PRO\",\"productId\":\"O_2\",\"avlSeats\":9,\"points\":282607.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":282607.0},\"PLUS\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":167757.0}}}},\"productInfo\":{\"PLUS\":{\"1\":\"SAS PLUS PRO\"},\"BUSINESS\":{\"1\":\"SAS BUSINESS PRO\"}},\"tabsInfo\":{\"outboundInfo\":[{\"date\":\"2020-01-04\",\"price\":\"NA\",\"points\":0.0,\"pointsAfterDiscount\":0.0},{\"date\":\"2020-01-05\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"},{\"date\":\"2020-01-06\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"}]},\"currency\":{\"code\":\"NOK\",\"name\":\"Norwegian Krone\",\"symbol\":\",-\",\"decimalSeperator\":\".\",\"position\":\"Suffix\",\"currencyDelimiter\":\"space\"},\"links\":[{\"rel\":\"GetEBMSPoints\",\"href\":\"/offers/flightproducts/getAccrualPoints\"},{\"rel\":\"FareReview\",\"href\":\"/offers/flightproducts/getFare\"},{\"rel\":\"InitiateCheckout\",\"href\":\"/checkout/initiate\"}],\"regionName\":\"SKEBRV_OTHERS\",\"offerId\":\"f3edebec-eaef-463d-9fad-72c86e7521aa_2019-11-29\",\"outboundLowestFare\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":0.0,\"cabinName\":\"PLUS\",\"flightId\":\"F0\"},\"isOutboundIntercontinental\":true,\"bookingFlow\":\"POINTS\",\"type\":{\"code\":\"MRG\",\"name\":\"MERGE\"}}";
//        String replacedJson = json.replaceAll("\"", "\\");
//        System.out.println(replacedJson);
        String cmdResult = CmdUtils.runCmd("echo " + json + " | jq  \"{price: .outboundLowestFare.points, cabinName: .outboundLowestFare.cabinName}\"");
        Assert.assertEquals("{  \"price\": 167757,  \"cabinName\": \"PLUS\"}", cmdResult);
    }

    @Test
    public void test51() throws IOException {
        Path path = new File("./tmp.txt").toPath();
        try {
            String json = "{\"pricingType\":\"O\",\"outboundFlights\":{\"F0\":{\"id\":0,\"origin\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"destination\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"originCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"destinationCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"originCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"destinationCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"connectionDuration\":\"15:40:00\",\"startTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"startTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"endTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"endTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"stops\":1,\"via\":[{\"code\":\"CPH\",\"name\":\"Kastrup\",\"haltDuration\":\"02:45:00\"}],\"segments\":[{\"id\":11,\"arrivalTerminal\":\"3\",\"arrivalDateTimeInLocal\":\"2020-01-05T18:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T17:15:00.000Z\",\"departureTerminal\":\"2\",\"departureDateTimeInLocal\":\"2020-01-05T13:35:00.000+08:00\",\"departureDateTimeInGmt\":\"2020-01-05T05:35:00.000Z\",\"departureAirport\":{\"code\":\"PVG\",\"name\":\"Pudong  \"},\"arrivalAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"departureCity\":{\"code\":\"SHA\",\"name\":\"Shanghai\"},\"arrivalCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"departureCountry\":{\"code\":\"CN\",\"name\":\"China\"},\"arrivalCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"airCraft\":{\"code\":\"343\",\"name\":\"Airbus Industrie A340-300\"},\"flightNumber\":\"998\",\"duration\":\"11:40:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0},{\"id\":12,\"arrivalDateTimeInLocal\":\"2020-01-05T22:15:00.000+01:00\",\"arrivalDateTimeInGmt\":\"2020-01-05T21:15:00.000Z\",\"departureTerminal\":\"3\",\"departureDateTimeInLocal\":\"2020-01-05T21:00:00.000+01:00\",\"departureDateTimeInGmt\":\"2020-01-05T20:00:00.000Z\",\"departureAirport\":{\"code\":\"CPH\",\"name\":\"Kastrup\"},\"arrivalAirport\":{\"code\":\"SVG\",\"name\":\"Sola\"},\"departureCity\":{\"code\":\"CPH\",\"name\":\"Copenhagen\"},\"arrivalCity\":{\"code\":\"SVG\",\"name\":\"Stavanger\"},\"departureCountry\":{\"code\":\"DK\",\"name\":\"Denmark\"},\"arrivalCountry\":{\"code\":\"NO\",\"name\":\"Norway\"},\"airCraft\":{\"code\":\"32N\",\"name\":\"Airbus  A320neo\"},\"flightNumber\":\"1876\",\"duration\":\"01:15:00\",\"marketingCarrier\":{\"code\":\"SK\",\"name\":\"SAS\"},\"onTimePerformance\":0.0,\"miles\":0,\"numberOfStops\":0}],\"cabins\":{\"BUSINESS\":{\"SAS BUSINESS PRO\":{\"products\":{\"O_2\":{\"productName\":\"SAS BUSINESS PRO\",\"productCode\":\"MBUSH\",\"lowestFare\":true,\"recommendations\":[1],\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":30656.0,\"totalTax\":246.0,\"totalPrice\":32548.0,\"formattedBasePrice\":\"30 656,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"32 548,-\",\"points\":282607,\"credits\":0,\"pointsAfterDiscount\":282607,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"},{\"segmentId\":\"12\",\"fareClass\":\"CCNOW\",\"bookingClass\":\"C\",\"avlSeats\":9,\"cabinClass\":\"C\"}],\"fareKey\":\"CC\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS BUSINESS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}},\"PLUS\":{\"SAS PLUS PRO\":{\"products\":{\"O_1\":{\"productName\":\"SAS PLUS PRO\",\"productCode\":\"MPREMI\",\"lowestFare\":true,\"recommendations\":[0],\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0,\"pricePerPassengerType\":[{\"id\":1,\"type\":\"ADT\",\"numberCount\":1,\"price\":{\"currency\":\"NOK\",\"basePrice\":17221.0,\"totalTax\":246.0,\"totalPrice\":18961.0,\"formattedBasePrice\":\"17 221,-\",\"formattedTotalTax\":\"246,-\",\"formattedTotalPrice\":\"18 961,-\",\"points\":167757,\"credits\":0,\"pointsAfterDiscount\":167757,\"discountedPoints\":0}}]},\"fares\":[{\"segmentId\":\"11\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"},{\"segmentId\":\"12\",\"fareClass\":\"YCNOW\",\"bookingClass\":\"Y\",\"avlSeats\":9,\"cabinClass\":\"Y\"}],\"fareKey\":\"YY\",\"flyingToOrOverRussia\":true,\"productType\":\"SAS PLUS\",\"productSubtype\":\"PRO\",\"sasRecommended\":false}}}}},\"lowestFares\":{\"BUSINESS\":{\"product\":\"SAS BUSINESS PRO\",\"productId\":\"O_2\",\"avlSeats\":9,\"points\":282607.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":282607.0},\"PLUS\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":167757.0}}}},\"productInfo\":{\"PLUS\":{\"1\":\"SAS PLUS PRO\"},\"BUSINESS\":{\"1\":\"SAS BUSINESS PRO\"}},\"tabsInfo\":{\"outboundInfo\":[{\"date\":\"2020-01-04\",\"price\":\"NA\",\"points\":0.0,\"pointsAfterDiscount\":0.0},{\"date\":\"2020-01-05\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"},{\"date\":\"2020-01-06\",\"price\":\"18 961,-\",\"points\":167757.0,\"pointsAfterDiscount\":167757.0,\"productName\":\"SAS PLUS PRO\"}]},\"currency\":{\"code\":\"NOK\",\"name\":\"Norwegian Krone\",\"symbol\":\",-\",\"decimalSeperator\":\".\",\"position\":\"Suffix\",\"currencyDelimiter\":\"space\"},\"links\":[{\"rel\":\"GetEBMSPoints\",\"href\":\"/offers/flightproducts/getAccrualPoints\"},{\"rel\":\"FareReview\",\"href\":\"/offers/flightproducts/getFare\"},{\"rel\":\"InitiateCheckout\",\"href\":\"/checkout/initiate\"}],\"regionName\":\"SKEBRV_OTHERS\",\"offerId\":\"f3edebec-eaef-463d-9fad-72c86e7521aa_2019-11-29\",\"outboundLowestFare\":{\"product\":\"SAS PLUS PRO\",\"productId\":\"O_1\",\"avlSeats\":9,\"points\":167757.0,\"discountedPoints\":0.0,\"pointsAfterDiscount\":0.0,\"cabinName\":\"PLUS\",\"flightId\":\"F0\"},\"isOutboundIntercontinental\":true,\"bookingFlow\":\"POINTS\",\"type\":{\"code\":\"MRG\",\"name\":\"MERGE\"}}";
            Path path1 = Files.write(path, json.getBytes());
            String cmdResult = CmdUtils.runCmd("type \"" + path1.toUri().getPath().substring(1) + "\" | jq  \"{price: .outboundLowestFare.points, cabinName: .outboundLowestFare.cabinName}\"");
            Assert.assertEquals("{  \"price\": 167757,  \"cabinName\": \"PLUS\"}", cmdResult);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            Files.deleteIfExists(path);
        }
    }

}
